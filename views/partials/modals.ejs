<!-- Help Modal -->
<div id="helpModal" class="modal-overlay">
  <div class="modal-content">
    <div class="modal-header">
      <h2 class="modal-title">GGcode Help</h2>
      <div class="language-selector">
        <div class="custom-select">
          <div class="select-selected" id="selectSelected">
            <span class="flag-icon flag-en"></span>
            <span class="language-name">English</span>
            <span class="select-arrow">▼</span>
          </div>
          <div class="select-items select-hide" id="selectItems">
            <div class="select-option" data-value="en" data-flag="en">
              <span class="flag-icon flag-en"></span>
              <span class="language-name">English</span>
            </div>
            <div class="select-option" data-value="es" data-flag="es">
              <span class="flag-icon flag-es"></span>
              <span class="language-name">Español</span>
            </div>
            <div class="select-option" data-value="fr" data-flag="fr">
              <span class="flag-icon flag-fr"></span>
              <span class="language-name">Français</span>
            </div>
            <div class="select-option" data-value="de" data-flag="de">
              <span class="flag-icon flag-de"></span>
              <span class="language-name">Deutsch</span>
            </div>
            <div class="select-option" data-value="it" data-flag="it">
              <span class="flag-icon flag-it"></span>
              <span class="language-name">Italiano</span>
            </div>
            <div class="select-option" data-value="pt" data-flag="pt">
              <span class="flag-icon flag-pt"></span>
              <span class="language-name">Português</span>
            </div>
            <div class="select-option" data-value="ru" data-flag="ru">
              <span class="flag-icon flag-ru"></span>
              <span class="language-name">Русский</span>
            </div>
            <div class="select-option" data-value="zh" data-flag="zh">
              <span class="flag-icon flag-zh"></span>
              <span class="language-name">中文</span>
            </div>
            <div class="select-option" data-value="ja" data-flag="ja">
              <span class="flag-icon flag-ja"></span>
              <span class="language-name">日本語</span>
            </div>
            <div class="select-option" data-value="ko" data-flag="ko">
              <span class="flag-icon flag-ko"></span>
              <span class="language-name">한국어</span>
            </div>
            <div class="select-option" data-value="ar" data-flag="ar">
              <span class="flag-icon flag-ar"></span>
              <span class="language-name">العربية</span>
            </div>
            <div class="select-option" data-value="he" data-flag="he">
              <span class="flag-icon flag-he"></span>
              <span class="language-name">עברית</span>
            </div>
            <div class="select-option" data-value="tr" data-flag="tr">
              <span class="flag-icon flag-tr"></span>
              <span class="language-name">Türkçe</span>
            </div>
            <div class="select-option" data-value="pl" data-flag="pl">
              <span class="flag-icon flag-pl"></span>
              <span class="language-name">Polski</span>
            </div>
            <div class="select-option" data-value="nl" data-flag="nl">
              <span class="flag-icon flag-nl"></span>
              <span class="language-name">Nederlands</span>
            </div>
          </div>
        </div>
      </div>
      <button class="modal-close" onclick="closeModal('helpModal')">&times;</button>
    </div>
    <div class="modal-body">
      <div class="search-container">
        <input type="text" id="helpSearchInput" class="search-input" placeholder="Search help topics, functions, operators..." />
        <div id="helpSearchResults" class="search-results"></div>
      </div>
      <div class="help-content" id="helpContent">
        <!-- Help content will be loaded dynamically from JSON -->
        <div class="loading-indicator">
          <p>Loading help content...</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Examples Modal -->
<div id="examplesModal" class="modal-overlay">
  <div class="modal-content">
    <div class="modal-header">
      <h2 class="modal-title">Example Files</h2>
      <button class="modal-close" onclick="closeModal('examplesModal')">&times;</button>
    </div>
    <div class="modal-body">
      <div class="search-container">
        <input type="text" id="examplesSearchInput" class="search-input" placeholder="Search examples by name or description..." />
        <div id="examplesSearchResults" class="search-results"></div>
      </div>
      <div id="examplesList" class="examples-list">
        <!-- Examples will be loaded here dynamically -->
      </div>
    </div>
  </div>
</div>

<!-- Configurator Modal -->
<div id="configuratorModal"
  style="display:none; position:fixed; top:0; left:0; right:auto; width:50vw; height:100vh; background:rgba(30, 30, 30, 0.856); z-index:1000; box-shadow: 4px 0 24px #0008; flex-direction:column;">
  <div style="width:100%; display:flex; justify-content:flex-end; padding:10px;">
    <button onclick="closeConfigurator()" title="Close" class="sim-btn sim-exit" style="margin-left:auto;">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2 2L14 14M14 2L2 14" stroke="#fff" stroke-width="2" stroke-linecap="round" />
      </svg>
    </button>
  </div>

  <div id="configuratorContent" style="overflow-y:auto; height:calc(100vh - 60px);">
    <!-- configurator Content here -->
  </div>

  <div class="control-bar">
    <div class="button-group">
      <!-- Save & Compile -->
      <button type="button" title="Save & Compile GGcode" onclick="configuratorSaveAndCompile()">
        <svg width="14" height="14" fill="#3ad32c" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
          <path d="M11 14v-4H5v4H3V8h10v6zh3V2H4v4h8V2h-2v2H6V2H2v12h3zM0 0h16v16H0z" fill-rule="evenodd" />
        </svg>
        <div style="color: #3ad32c;">Save</div>
      </button>

      <div class="separator"></div>

      <!-- Compile -->
      <button type="button" title="Compile GGcode" onclick="configuratorCompileOnly()">
        <svg width="14" height="14" fill="#d38a2c" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 16h16V0H0zm2-2V2h12v12zm4-3 5-3-5-3z" fill-rule="evenodd" />
        </svg>
        <div style="color: #d38a2c;">Compile</div>
      </button>
    </div>
  </div>
</div>